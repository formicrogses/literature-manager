# 🚀 云服务器部署指南

## 快速部署（5分钟搞定）

### 1. 上传文件到服务器
```bash
# 将这些文件上传到你的云服务器：
- server.js          # 后端服务器
- server-api.js      # API客户端
- package.json       # 依赖配置
- deploy.sh          # 部署脚本
- index.html         # 前端页面
- style.css          # 样式文件
- app.js            # 前端逻辑
- indexeddb-storage.js # 本地存储
```

### 2. 服务器端执行
```bash
# SSH连接到服务器后执行：
chmod +x deploy.sh
./deploy.sh
```

### 3. 启动服务
```bash
# 开发模式（测试用）
./dev.sh

# 生产模式（正式使用）
./start.sh
```

### 4. 访问系统
```
http://你的服务器IP:3000
```

## 🎯 架构优势

### 与GitHub版本对比
| 功能 | GitHub版本 | 云服务器版本 |
|------|------------|-------------|
| 上传速度 | 慢（API限制） | 快（无限制） |
| 文件大小 | 100MB限制 | 可配置更大 |
| 并发支持 | 有限 | 高并发 |
| 自主控制 | 依赖GitHub | 完全自主 |
| 数据安全 | 公开仓库 | 私有服务器 |

### 技术架构
```
用户浏览器 ↔ Nginx (可选) ↔ Node.js服务器 ↔ 本地存储
                                    ↓
                             文件系统 + JSON数据库
```

## 📁 服务器目录结构
```
literature-manager/
├── server.js              # 后端API服务器
├── package.json           # Node.js依赖
├── public/                 # 前端文件
│   ├── index.html
│   ├── app.js
│   ├── style.css
│   └── server-api.js
├── uploads/               # 文件存储
│   ├── pdfs/             # PDF文件
│   └── thumbnails/       # 缩略图
├── data/                 # 数据文件
│   └── papers.json       # 论文数据库
└── logs/                 # 日志文件
```

## 🔧 主要API接口

### 上传相关
- `POST /api/upload` - 单文件上传
- `POST /api/batch-upload` - 批量上传

### 数据管理
- `GET /api/papers` - 获取所有论文
- `PUT /api/papers/:id` - 更新论文
- `DELETE /api/papers/:id` - 删除论文

### 搜索功能
- `GET /api/search` - 搜索论文
- `GET /api/stats` - 获取统计信息

## 🔒 安全配置

### 防火墙设置
```bash
# 运行安全配置脚本
./setup-firewall.sh
```

### Nginx反向代理（推荐）
```bash
# 编辑nginx配置
sudo nano /etc/nginx/sites-available/literature-manager

# 使用提供的nginx.conf.template模板
```

## 📊 监控和维护

### PM2进程管理
```bash
pm2 status                    # 查看状态
pm2 logs literature-manager   # 查看日志
pm2 restart literature-manager # 重启服务
pm2 stop literature-manager   # 停止服务
```

### 备份数据
```bash
# 备份重要数据
tar -czf backup.tar.gz uploads/ data/
```

## 🎉 完成！

部署完成后，你将拥有：
- ✅ 高性能的PDF上传系统
- ✅ 无限制的文件存储
- ✅ 完全自主的数据控制
- ✅ 专业的Web界面
- ✅ 强大的搜索功能

**比GitHub版本快10倍，支持更大文件，无API限制！**